<div class="container">
  <form class="mt-3 mt-lg-5 col-12 col-lg-7 mx-auto" #petForm="ngForm">
    <mat-card align="middle" class="my-2">
      <mat-card-title>Enter Details</mat-card-title>

      <mat-card-content>
        <mat-form-field class="w-100">
          <input
            matInput
            name="breed"
            type="text"
            placeholder="Breed"
            [(ngModel)]="dogModel.breed"
            required
          />
        </mat-form-field>

        <mat-radio-group
          class="d-block"
          name="sex"
          [(ngModel)]="dogModel.sex"
          aria-label="Select sex"
        >
          <mat-radio-button class="m-1" value="male">Male</mat-radio-button>
          <mat-radio-button class="m-1" value="female">Female</mat-radio-button>
        </mat-radio-group>

        <mat-form-field>
          <input
            name="dob"
            matInput
            [matDatepicker]="picker"
            placeholder="Date of Birth"
            [(ngModel)]="dogModel.dob"
            required
          />
          <mat-datepicker-toggle
            matInput
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-progress-spinner
          class="mx-auto"
          [hidden]="!fileSelected"
          mode="indeterminate"
          diameter="30"
        >
        </mat-progress-spinner>
        <div *ngIf="!imageUploaded; else showImage" [hidden]="fileSelected">
          <button
            class="bg-primary m-1"
            type="button"
            mat-raised-button
            (click)="img.click()"
          >
            <mat-icon class="text-white">add_photo_alternate</mat-icon>
          </button>
          <h5 class="mat-body-2">Upload Image</h5>
        </div>

        <ng-template #showImage>
          <div>
            <button
              class="bg-success"
              mat-flat-button
              type="button"
              (click)="img.click()"
            >
              <mat-icon class="text-white">done</mat-icon>
            </button>

            <h5 class="mat-body-2">Uploaded!</h5>
            <img src="{{ imageUrl }}" class="img-thumbnail" alt="image" />
          </div>
        </ng-template>
        <input
          hidden
          #img
          type="file"
          accept="image/*"
          name="newImage"
          placeholder="Upload Image"
          (change)="onFileSelected($event)"
          required
        />
      </mat-card-content>
      <hr />
      <mat-card-title>Address</mat-card-title>
      <mat-card-content>
        <mat-form-field class="p-1 w-100">
          <input
            matInput
            name="street"
            placeholder="Street"
            [(ngModel)]="dogModel.street"
            required
          />
        </mat-form-field>
        <mat-form-field class="p-1 w-50">
          <input
            matInput
            name="city"
            placeholder="City"
            [(ngModel)]="dogModel.city"
            required
          />
        </mat-form-field>
        <mat-form-field class="p-1 w-50">
          <input
            matInput
            name="state"
            placeholder="State"
            [(ngModel)]="dogModel.state"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            name="pin"
            placeholder="Pin Code"
            [(ngModel)]="dogModel.pincode"
            required
          />
        </mat-form-field>
      </mat-card-content>
      <hr />
      <mat-card-title>Set Price</mat-card-title>
      <mat-card-content>
        <mat-form-field appearance="outline">
          <span matPrefix class="mr-2" style="font-size: 2rem;">&#8377;</span>
          <input
            style="font-size: 24px;"
            matInput
            name="amount"
            type="number"
            [(ngModel)]="dogModel.amount"
            required
          />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions align="end">
        <button
          mat-raised-button
          [disabled]="!petForm.valid"
          (click)="submit()"
        >
          Submit
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</div>
